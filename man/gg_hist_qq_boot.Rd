% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gg_hist_qq_boot.R
\name{gg_hist_qq_boot}
\alias{gg_hist_qq_boot}
\title{Diagnostic Plots of Bootstrap Estimates (ggplot2, Modular)}
\usage{
gg_hist_qq_boot(
  object,
  param,
  standardized = NULL,
  bins = 35,
  show_ci = TRUE,
  show_mean = TRUE,
  show_sd_arrow = TRUE,
  show_qq = TRUE,
  show_hist = TRUE,
  text_size = 3,
  ci_label_digits = 3,
  mean_label_digits = 3,
  sd_label_digits = 3,
  sd_clip_to_density = TRUE,
  sd_arrow_height = 0.58,
  trim_quantiles = NULL,
  ci_line_color = "#D62728",
  dens_line_color = "#8B0000CC",
  bar_fill = "#5DADE233",
  bar_color = "#1B4F72",
  enforce_serif = TRUE,
  theme_override = NULL,
  dens_adjust = 1,
  dens_from = NULL,
  dens_to = NULL,
  show_boot_mean = TRUE,
  point_color = "#000000",
  boot_mean_color = "#AA3377",
  output = c("draw", "ggplot", "data"),
  return = NULL,
  ...
)
}
\arguments{
\item{object}{A \code{lavaan} object with stored bootstrap results, or an
\code{sbt_std_boot} (from \code{standardizedSolution_boot()}) or \code{sbt_ustd_boot}
(from \code{parameterEstimates_boot()}) object.}

\item{param}{Character. Name of the parameter to plot (as in \code{coef()} or \code{"lhs op rhs"}).}

\item{standardized}{Logical. Use standardized estimates. Ignored for \verb{sbt_*} inputs.}

\item{bins}{Integer. Number of histogram bins when \code{show_hist = TRUE}. Default \code{35}.}

\item{show_ci}{Logical. Draw CI vertical dashed lines and labels. Default \code{TRUE}.}

\item{show_mean}{Logical. Draw \strong{point estimate} vertical line and label. Default \code{TRUE}.}

\item{show_sd_arrow}{Logical. Draw ±SD double‐headed arrow and label. Default \code{TRUE}.}

\item{show_qq}{Logical. Add a side-by-side QQ plot (uses \code{patchwork} if available). Default \code{TRUE}.}

\item{show_hist}{Logical. Draw histogram (otherwise density only). Default \code{TRUE}.}

\item{text_size}{Numeric. Font size for labels. Default \code{3}.}

\item{ci_label_digits, mean_label_digits, sd_label_digits}{Integer digits for labels. Default \code{3}.}

\item{sd_clip_to_density}{Logical. Clip SD arrow within density curve span. Default \code{TRUE}.}

\item{sd_arrow_height}{Numeric in (0,1]. Relative height for the SD arrow. Default \code{0.58}.}

\item{trim_quantiles}{Length-2 numeric. Trim x-axis by quantiles (e.g., \code{c(.01,.99)}). \code{NULL} = no trimming.}

\item{ci_line_color}{Color for CI lines. Default \code{"#D62728"}.}

\item{dens_line_color}{Color for density curve. Default \code{"#8B0000CC"}.}

\item{bar_fill, bar_color}{Histogram fill/border colors. Defaults \code{"#5DADE233"} / \code{"#1B4F72"}.}

\item{enforce_serif}{Logical. Use serif base family in the theme. Default \code{TRUE}.}

\item{theme_override}{Optional \code{ggplot2::theme()} added on top of base theme.}

\item{dens_adjust}{Numeric ≥ 0. Bandwidth adjust for \code{stats::density()}. Default \code{1}.}

\item{dens_from, dens_to}{Optional numeric. Force \code{from}/\code{to} range for \code{density()}.}

\item{show_boot_mean}{Logical. Draw \strong{bootstrap mean} vertical line. Default \code{TRUE}.}

\item{point_color}{Color for the \strong{point estimate} line. Default \code{"#000000"}.}

\item{boot_mean_color}{Color for the \strong{bootstrap mean} line. Default \code{"#AA3377"}.}

\item{output}{One of \code{"draw"}, \code{"ggplot"}, or \code{"data"}. What to return/draw. Default \code{"draw"}.}

\item{return}{Deprecated. Backward-compatible alias of \code{output}; if supplied, it overrides \code{output}.}

\item{...}{Additional arguments passed to ggplot layers (e.g., \code{geom_histogram()}).}
}
\value{
\itemize{
\item If \code{output = "draw"}: draws the plot and invisibly returns the ggplot object;
\item If \code{output = "ggplot"}: returns a ggplot object (no drawing);
\item If \code{output = "data"}: returns a list with
\itemize{
\item \code{t}: bootstrap draws;
\item \code{t0}: point estimate;
\item \code{sd}: sample standard deviation;
\item \code{hist}: data frame for histogram layer;
\item \code{dens}: data frame for density curve (\code{x}, \code{y});
\item \code{ci}: list with \code{lower}, \code{upper}, \code{y_lower}, \code{y_upper}.
}
}

If \code{output = "draw"}, draws the plot and (invisibly) returns the ggplot object;
if \code{output = "ggplot"}, returns the ggplot (no drawing); if \code{output = "data"},
returns a list with \code{t}, \code{t0}, \code{sd}, \code{hist}, \code{dens}, and \code{ci} (class \code{"sbt_boot_plotdata"}).
}
\description{
Produce diagnostic plots of bootstrap estimates using \strong{ggplot2}.
Compared to \code{\link[=hist_qq_boot]{hist_qq_boot()}} (base graphics), this function is \emph{modular} and \emph{modern}:
optional layers (histogram, mean line, CI, SD arrow, QQ), and the ability to
return only the data or the ggplot object for further customization.
}
\details{
\itemize{
\item For free (unstandardized) parameters, bootstrap draws are extracted directly
from the \code{lavaan} object;
\item For user-defined parameters or standardized solutions, \code{\link[=store_boot]{store_boot()}} or
\code{\link[=standardizedSolution_boot]{standardizedSolution_boot()}} must be called in advance;
\item Supports objects of class \code{sbt_std_boot} (standardized) and \code{sbt_ustd_boot} (unstandardized).
}

\strong{Return mode}
\itemize{
\item \code{output = "draw"}: draw the plot (default) and invisibly return the ggplot object;
\item \code{output = "ggplot"}: return the ggplot object without drawing;
\item \code{output = "data"}: return a list containing the data frames for histogram,
density, and CI positions (class \code{"sbt_boot_plotdata"}).
}

\strong{Axis control}
\itemize{
\item By default, the x-axis has a small margin beyond the observed range;
set \code{trim_quantiles = c(.01, .99)} to crop extreme tails by quantiles.
}

\strong{Optional layers}
\itemize{
\item \code{show_hist}, \code{show_mean}, \code{show_ci}, \code{show_sd_arrow}, \code{show_qq}.
}
}
\references{
Rousselet, G. A., Pernet, C. R., & Wilcox, R. R. (2021).
The percentile bootstrap: A primer with step-by-step instructions in R.
\emph{Advances in Methods and Practices in Psychological Science}, 4(1), 1–10. \doi{10.1177/2515245920911881}
}
\seealso{
\code{\link[=store_boot]{store_boot()}}, \code{\link[=standardizedSolution_boot]{standardizedSolution_boot()}}, \code{\link[=hist_qq_boot]{hist_qq_boot()}}
}
